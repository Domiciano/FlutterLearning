<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirigiendo...</title>
    <script type="text/javascript">
      // Define la base de tu repositorio en GitHub Pages.
      // ¡Asegúrate de que este sea el nombre EXACTO de tu repositorio!
      var repoBase = "/FlutterLearning";

      // Obtiene el path actual de la URL completa (ej. /FlutterLearning/lesson/1)
      var currentPathname = window.location.pathname;

      // Extrae la parte de la ruta que React Router debe manejar.
      // Esto significa remover el `repoBase` del inicio del `currentPathname`.
      var reactRouterPath = currentPathname;
      if (reactRouterPath.startsWith(repoBase)) {
        reactRouterPath = reactRouterPath.substring(repoBase.length);
      }

      // Asegura que la `reactRouterPath` empiece con una barra,
      // lo cual es importante para React Router.
      if (!reactRouterPath.startsWith('/')) {
        reactRouterPath = '/' + reactRouterPath;
      }

      // Construye la URL final para la redirección.
      // GitHub Pages servirá `repoBase/index.html` (ej. /FlutterLearning/index.html).
      // El resto de la ruta (`reactRouterPath`) será vista por React Router.
      var redirectTo = repoBase + "/index.html" + reactRouterPath;

      // Solo redirige si la URL actual del navegador NO es ya la URL de destino
      // para evitar bucles infinitos.
      // Compara la URL completa para mayor precisión.
      if (window.location.href !== (window.location.origin + redirectTo)) {
        window.location.replace(redirectTo);
      }
    </script>
  </head>
  <body></body>
</html>